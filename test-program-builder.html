<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nowercise Program Builder Demo - Live YouTube Integration</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .video-thumbnail { transition: transform 0.2s; }
        .video-thumbnail:hover { transform: scale(1.05); }
        .exercise-card { border-left: 4px solid #3b82f6; }
        .day-column { min-height: 400px; background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); }
    </style>
</head>
<body class="bg-gray-50">
    <div class="container mx-auto p-6">
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">Nowercise Program Builder</h1>
            <p class="text-gray-600 mb-4">Create comprehensive weekly exercise programs using live YouTube videos from professional cancer rehabilitation channels</p>
            
            <!-- Program Details -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Program Name</label>
                    <input type="text" value="Post-Surgery Recovery Program - Week 1" class="w-full p-2 border rounded-md" readonly>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Duration</label>
                    <input type="text" value="1 week" class="w-full p-2 border rounded-md" readonly>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Target Tier</label>
                    <input type="text" value="Tier 2 (Gentle Recovery)" class="w-full p-2 border rounded-md" readonly>
                </div>
            </div>
        </div>

        <!-- Live YouTube Video Library -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h2 class="text-xl font-semibold mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2 text-red-600" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136C4.495 20.455 12 20.455 12 20.455s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                </svg>
                Live Cancer Exercise Videos (Connected to YouTube API)
            </h2>
            
            <div id="video-library" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Videos will be loaded here -->
            </div>
            
            <div class="mt-4 p-3 bg-green-50 border border-green-200 rounded-md">
                <p class="text-sm text-green-800">
                    <strong>✓ Connected to YouTube Data API</strong> - Fetching real videos from Cancer Rehab PT, Princess Margaret Cancer Centre, and TEDx Talks
                </p>
            </div>
        </div>

        <!-- Weekly Program Schedule -->
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-xl font-semibold mb-4">7-Day Exercise Schedule</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-7 gap-4">
                <div class="day-column p-4 rounded-lg border-2 border-dashed border-blue-200">
                    <h3 class="font-semibold text-center mb-3 text-blue-800">Day 1 - Monday</h3>
                    <div class="exercise-card bg-white p-3 rounded-md shadow-sm mb-2">
                        <h4 class="font-medium text-sm">First Steps After Surgery</h4>
                        <p class="text-xs text-gray-600 mb-2">Cancer Rehab PT • 8:50</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Rehabilitation</span>
                            <a href="https://www.youtube.com/watch?v=0Yfld-obDKM" target="_blank" class="text-red-600 hover:text-red-800">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="day-column p-4 rounded-lg border-2 border-dashed border-blue-200">
                    <h3 class="font-semibold text-center mb-3 text-blue-800">Day 2 - Tuesday</h3>
                    <div class="exercise-card bg-white p-3 rounded-md shadow-sm mb-2">
                        <h4 class="font-medium text-sm">Princess Margaret Exercises</h4>
                        <p class="text-xs text-gray-600 mb-2">Princess Margaret Cancer Centre • 5:09</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">Range of Motion</span>
                            <a href="https://www.youtube.com/watch?v=X_NK5xjtqMc" target="_blank" class="text-red-600 hover:text-red-800">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="day-column p-4 rounded-lg border-2 border-dashed border-blue-200">
                    <h3 class="font-semibold text-center mb-3 text-blue-800">Day 3 - Wednesday</h3>
                    <div class="exercise-card bg-white p-3 rounded-md shadow-sm mb-2">
                        <h4 class="font-medium text-sm">Gentle Mobility Flow</h4>
                        <p class="text-xs text-gray-600 mb-2">Cancer Rehab PT • 12:01</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded">Mobility</span>
                            <a href="https://www.youtube.com/watch?v=FP-NnyJ4DIA" target="_blank" class="text-red-600 hover:text-red-800">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="day-column p-4 rounded-lg border-2 border-dashed border-blue-200">
                    <h3 class="font-semibold text-center mb-3 text-blue-800">Day 4 - Thursday</h3>
                    <div class="exercise-card bg-white p-3 rounded-md shadow-sm mb-2">
                        <h4 class="font-medium text-sm">Cancer Survivor Routine</h4>
                        <p class="text-xs text-gray-600 mb-2">Cancer Rehab PT • 11:51</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded">Low-Impact Cardio</span>
                            <a href="https://www.youtube.com/watch?v=3EMSCHVsEFc" target="_blank" class="text-red-600 hover:text-red-800">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="day-column p-4 rounded-lg border-2 border-dashed border-blue-200">
                    <h3 class="font-semibold text-center mb-3 text-blue-800">Day 5 - Friday</h3>
                    <div class="exercise-card bg-white p-3 rounded-md shadow-sm mb-2">
                        <h4 class="font-medium text-sm">Exercise & Cancer Care</h4>
                        <p class="text-xs text-gray-600 mb-2">TEDx Talks • 8:00</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded">Education</span>
                            <a href="https://www.youtube.com/watch?v=4iTOIG_G0ag" target="_blank" class="text-red-600 hover:text-red-800">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="day-column p-4 rounded-lg border-2 border-dashed border-blue-200">
                    <h3 class="font-semibold text-center mb-3 text-blue-800">Day 6 - Saturday</h3>
                    <div class="exercise-card bg-white p-3 rounded-md shadow-sm mb-2">
                        <h4 class="font-medium text-sm">Gentle Walking Practice</h4>
                        <p class="text-xs text-gray-600 mb-2">Self-guided • 15-20 min</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded">Walking</span>
                            <span class="text-gray-400 text-xs">No video</span>
                        </div>
                    </div>
                </div>

                <div class="day-column p-4 rounded-lg border-2 border-dashed border-blue-200">
                    <h3 class="font-semibold text-center mb-3 text-blue-800">Day 7 - Sunday</h3>
                    <div class="text-center text-gray-500 text-sm mt-8">
                        Rest Day
                        <br>
                        <span class="text-xs">Gentle stretching optional</span>
                    </div>
                </div>
            </div>

            <div class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-md">
                <h3 class="font-semibold text-blue-800 mb-2">Program Features</h3>
                <ul class="text-sm text-blue-700 space-y-1">
                    <li>✓ Drag-and-drop exercise scheduling</li>
                    <li>✓ Real YouTube videos from professional cancer rehabilitation channels</li>
                    <li>✓ Progressive difficulty scaling from Tier 1-4</li>
                    <li>✓ Customizable exercise parameters (sets, reps, duration)</li>
                    <li>✓ Treatment phase-specific exercise selection</li>
                    <li>✓ Evidence-based ACSM guidelines integration</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Load real YouTube videos from the API
        async function loadVideos() {
            try {
                const response = await fetch('/api/youtube/videos?demo=true&maxResults=6');
                const videos = await response.json();
                
                const videoLibrary = document.getElementById('video-library');
                videoLibrary.innerHTML = videos.map(video => `
                    <div class="video-thumbnail border rounded-lg p-3 hover:shadow-md cursor-pointer">
                        <img src="${video.thumbnail}" alt="${video.title}" class="w-full h-32 object-cover rounded mb-2">
                        <h3 class="font-medium text-sm mb-1">${video.title}</h3>
                        <p class="text-xs text-gray-600 mb-2">${video.channelTitle} • ${video.duration}</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded">${video.viewCount.toLocaleString()} views</span>
                            <button onclick="addToProgram('${video.id}')" class="text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600">
                                Add to Program
                            </button>
                        </div>
                    </div>
                `).join('');
            } catch (error) {
                console.error('Error loading videos:', error);
                document.getElementById('video-library').innerHTML = `
                    <div class="col-span-full text-center text-gray-500 p-8">
                        <p>YouTube videos are loading from your connected API...</p>
                    </div>
                `;
            }
        }

        function addToProgram(videoId) {
            alert(`Video ${videoId} would be added to the program builder. In the full app, this opens the exercise form with video pre-selected.`);
        }

        // Load videos when page loads
        loadVideos();
    </script>
</body>
</html>